{% extends 'account/base.html' %}

{% block content %}

<div class="container mt-4" style="margin-bottom: 100px;">
    
    <div class="row" style="align-items: center;">
        <!-- Product Image Slider -->
        <div class="col-md-6">
            <!-- Main Image Display -->
            <div class="main-image">
                <img id="mainImage" src="{{ product.images.all.0.image.url }}" class="img-fluid" style="max-height: 400px; object-fit: contain;">
            </div>

            <!-- Thumbnail Images -->
            <div class="thumbnail-slider d-flex mt-3">
                {% for image in product.images.all %}
                <img src="{{ image.image.url }}" class="thumb-img img-thumbnail me-2" onclick="changeMainImage(this)">
                {% endfor %}
            </div>
        </div>
        <div class="col-md-6">
            <h2>{{ product.name }}</h2>
            <p>{{ product.description }}</p>
            <h4>Price: Rs.{{ product.price }}</h4>
            <a href="{% url 'add_to_cart' product.id %}" class="btn btn-primary">Add to Cart</a>
            <a href="{% url 'home' %}" class="btn btn-secondary">Back to Home</a>
        </div>
    </div>
</div>

<!-- JavaScript to Change Main Image -->
<script>
    function changeMainImage(element) {
        document.getElementById("mainImage").src = element.src;
    }
</script>

<!-- Styling -->
<style>
    .main-image img {
        width: 100%;
        max-height: 400px;
        object-fit: contain;
        border: 1px solid #ddd;
        padding: 10px;
    }

    .thumbnail-slider img {
        width: 70px;
        height: 70px;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid transparent;
        transition: 0.3s;
    }

    .thumbnail-slider img:hover {
        border: 2px solid #007bff;
    }
</style>

{% endblock %}
